"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[177],{5936:function(e,n,a){var t=a(9439),r=a(613),o=a(1070),c={fetch:function(e,n,a){var o="?page=".concat(e,"&limit=").concat(n);a&&(o=Object.entries(a).reduce((function(e,n){var a=(0,t.Z)(n,2),r=a[0],o=a[1],c=encodeURIComponent(o.replace(/ /g,"%20"));return"".concat(e,"&").concat(r,"=").concat(c)}),o));return r.Z.get("/clientes".concat(o))},get:function(e){if(e)return r.Z.get("/clientes/".concat(e))},criar:function(e){return(0,o.Z)(e),(0,r.Z)({url:"/clientes",method:"post",data:e})},salvar:function(e,n){return(0,o.Z)(n),(0,r.Z)({url:"/clientes/".concat(e),method:"put",data:n})}};n.Z=c},1070:function(e,n,a){a.d(n,{Z:function(){return t}});var t=function(e){Object.keys(e).forEach((function(n){null!==e[n]&&void 0!==e[n]&&""!==e[n]||delete e[n]}))}},177:function(e,n,a){a.r(n),a.d(n,{Register:function(){return P}});var t=a(5671),r=a(3144),o=a(136),c=a(9388),s=a(1413),l=a(4165),i=a(5861),u=a(9439),m=a(2791),d=a(7689),f=a(1087),p=a(940),v=a(3734),x=a(1095),h=a(3085),Z=a(2014),b=a(3707),C=a(6673),g=a(6864),y=a(5936),j=a(184),k=p.Z.TextArea,E=(v.Z.Option,{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}}),O={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},I=function(){var e=(0,m.useState)(!1),n=(0,u.Z)(e,2),a=n[0],t=n[1],r=(0,m.useState)(void 0),o=(0,u.Z)(r,2),c=o[0],f=o[1],v=x.Z.useForm(),C=(0,u.Z)(v,1)[0],g=(0,d.s0)(),I=(0,d.UO)();(0,m.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,l.Z)().mark((function e(){var n,a,r,o,c;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=I&&I.id,e.prev=1,!n){e.next=8;break}return e.next=5,y.Z.get(n);case 5:a=e.sent,(r=a.data)&&(o=Object.keys(r).map((function(e){return{name:e,value:r[e]}})),c=o.filter((function(e){return"id"!==e.name.toLowerCase()&&"created_at"!==e.name.toLowerCase()})),C.setFields(c),t(r.contrato),f(r));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),g("/app/dashboards/clientes"),h.Z.error("Erro ao buscar o usuario! ".concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var P=function(){var e=(0,i.Z)((0,l.Z)().mark((function e(n){var a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!c){e.next=6;break}return e.next=4,y.Z.salvar(c.id,n);case 4:e.next=8;break;case 6:return e.next=8,y.Z.criar(n);case 8:a="Cliente ".concat(c?"atualizado":"criado"),h.Z.success({message:a}),g("/app/dashboards/clientes"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),h.Z.error({message:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsxs)(x.Z,(0,s.Z)((0,s.Z)({},E),{},{form:C,name:"register",onFinish:P,initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"86"},scrollToFirstError:!0,children:[(0,j.jsx)(x.Z.Item,{name:"contrato",label:a?"Contrato":"Eventual",children:(0,j.jsx)(Z.Z,{checked:a,value:a,onChange:function(){var e=!a;t(e),C.setFieldValue("contrato",e)}})}),(0,j.jsx)(x.Z.Item,{name:"codigo",label:"Codigo",rules:[{max:5,message:"Codigo deve conter no maximo 5 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"cpf_cnpj",label:"CPF/CNPJ",rules:[{required:!0,message:"Insira o CNPJ/CPF"},{min:11,message:"CPF/CNPJ deve conter no minimo 11 caracteres"},{max:18,message:"CPF/CNPJ deve conter no maximo 14 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"inscricao_estadual",label:"Inscricao Estadual",rules:[{min:9,message:"Inscricao Estadual deve conter no minimo 9 caracteres"},{max:18,message:"Inscricao Estadual deve conter no maximo 18 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"razao_social",label:"Razao Social",rules:[{max:120,message:"Razao Social deve conter no minimo 120 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"nome_fantasia",label:"Nome Fantasia",rules:[{max:120,message:"Nome Fantasia deve conter no minimo 120 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"cep",label:"CEP",rules:[{pattern:"[0-9]{5}-[0-9]{3}",message:"CEP deve conter o format 99999-999"},{max:9,message:"CEP deve conter no minimo 9 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"endereco",label:"Endereco",rules:[{max:150,message:"Endereco deve conter no maximo 150 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"numero",label:"Numero",rules:[{max:10,message:"Numero deve conter no maximo 10 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"complemento",label:"Complemento",rules:[{max:50,message:"Complemento deve conter no maximo 50 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"bairro",label:"Bairro",rules:[{max:60,message:"Complemento deve conter no minimo 60 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"cidade_estado",label:"Cidade/Estado",rules:[{max:70,message:"Cidade/Estado deve conter no maximo 70 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"telefone",label:"Telefone",rules:[{max:60,message:"Telefone deve conter no maximo 60 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"contato",label:"Contato",rules:[{max:50,message:"Contato deve conter no maximo 50 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"email",label:"Email",rules:[{max:200,message:"Email deve conter no maximo 200 caracteres"}],children:(0,j.jsx)(p.Z,{autoComplete:"off"})}),(0,j.jsx)(x.Z.Item,{name:"observacao",label:"Observacao",rules:[{max:100,message:"Observacao deve conter no maximo 100 caracteres"}],children:(0,j.jsx)(k,{rows:4,value:""})}),(0,j.jsx)(x.Z.Item,(0,s.Z)((0,s.Z)({},O),{},{children:(0,j.jsx)(b.Z,{type:"primary",htmlType:"submit",children:"Salvar"})}))]}))},P=function(e){(0,o.Z)(a,e);var n=(0,c.Z)(a);function a(){return(0,t.Z)(this,a),n.apply(this,arguments)}return(0,r.Z)(a,[{key:"render",value:function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(f.rU,{to:"/app/dashboards/clientes",style:{cursor:"pointer"},children:[(0,j.jsx)(g.Z,{})," Retornar"]}),(0,j.jsx)(C.Z,{title:"Novo Cliente",children:(0,j.jsx)(I,{})})]})}}]),a}(m.Component);n.default=P},2014:function(e,n,a){a.d(n,{Z:function(){return k}});var t=a(4942),r=a(7462),o=a(1694),c=a.n(o),s=a(8083),l=a(2791),i=a(1929),u=a(1940),m=a(3433),d=a(9439),f=a(1818),p=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]])}return a},v=l.createContext(null),x=function(e,n){var a=e.defaultValue,o=e.children,s=e.options,u=void 0===s?[]:s,x=e.prefixCls,h=e.className,Z=e.style,b=e.onChange,C=p(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),g=l.useContext(i.E_),j=g.getPrefixCls,k=g.direction,E=l.useState(C.value||a||[]),O=(0,d.Z)(E,2),I=O[0],P=O[1],w=l.useState([]),N=(0,d.Z)(w,2),F=N[0],S=N[1];l.useEffect((function(){"value"in C&&P(C.value||[])}),[C.value]);var K=function(){return u.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},_=j("checkbox",x),V="".concat(_,"-group"),R=(0,f.Z)(C,["value","disabled"]);u&&u.length>0&&(o=K().map((function(e){return l.createElement(y,{prefixCls:_,key:e.value.toString(),disabled:"disabled"in e?e.disabled:C.disabled,value:e.value,checked:-1!==I.indexOf(e.value),onChange:e.onChange,className:"".concat(V,"-item"),style:e.style},e.label)})));var D={toggleOption:function(e){var n=I.indexOf(e.value),a=(0,m.Z)(I);-1===n?a.push(e.value):a.splice(n,1),"value"in C||P(a);var t=K();null===b||void 0===b||b(a.filter((function(e){return-1!==F.indexOf(e)})).sort((function(e,n){return t.findIndex((function(n){return n.value===e}))-t.findIndex((function(e){return e.value===n}))})))},value:I,disabled:C.disabled,name:C.name,registerValue:function(e){S((function(n){return[].concat((0,m.Z)(n),[e])}))},cancelValue:function(e){S((function(n){return n.filter((function(n){return n!==e}))}))}},M=c()(V,(0,t.Z)({},"".concat(V,"-rtl"),"rtl"===k),h);return l.createElement("div",(0,r.Z)({className:M,style:Z},R,{ref:n}),l.createElement(v.Provider,{value:D},o))},h=l.forwardRef(x),Z=l.memo(h),b=a(9125),C=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]])}return a},g=function(e,n){var a,o=e.prefixCls,m=e.className,d=e.children,f=e.indeterminate,p=void 0!==f&&f,x=e.style,h=e.onMouseEnter,Z=e.onMouseLeave,g=e.skipGroup,y=void 0!==g&&g,j=e.disabled,k=C(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),E=l.useContext(i.E_),O=E.getPrefixCls,I=E.direction,P=l.useContext(v),w=(0,l.useContext)(u.aM).isFormItemInput,N=(0,l.useContext)(b.Z),F=j||(null===P||void 0===P?void 0:P.disabled)||N,S=l.useRef(k.value);l.useEffect((function(){null===P||void 0===P||P.registerValue(k.value)}),[]),l.useEffect((function(){if(!y)return k.value!==S.current&&(null===P||void 0===P||P.cancelValue(S.current),null===P||void 0===P||P.registerValue(k.value),S.current=k.value),function(){return null===P||void 0===P?void 0:P.cancelValue(k.value)}}),[k.value]);var K=O("checkbox",o),_=(0,r.Z)({},k);P&&!y&&(_.onChange=function(){k.onChange&&k.onChange.apply(k,arguments),P.toggleOption&&P.toggleOption({label:d,value:k.value})},_.name=P.name,_.checked=-1!==P.value.indexOf(k.value));var V=c()((a={},(0,t.Z)(a,"".concat(K,"-wrapper"),!0),(0,t.Z)(a,"".concat(K,"-rtl"),"rtl"===I),(0,t.Z)(a,"".concat(K,"-wrapper-checked"),_.checked),(0,t.Z)(a,"".concat(K,"-wrapper-disabled"),F),(0,t.Z)(a,"".concat(K,"-wrapper-in-form-item"),w),a),m),R=c()((0,t.Z)({},"".concat(K,"-indeterminate"),p)),D=p?"mixed":void 0;return l.createElement("label",{className:V,style:x,onMouseEnter:h,onMouseLeave:Z},l.createElement(s.Z,(0,r.Z)({"aria-checked":D},_,{prefixCls:K,className:R,disabled:F,ref:n})),void 0!==d&&l.createElement("span",null,d))};var y=l.forwardRef(g),j=y;j.Group=Z,j.__ANT_CHECKBOX=!0;var k=j},8083:function(e,n,a){var t=a(7462),r=a(4942),o=a(5987),c=a(1413),s=a(5671),l=a(3144),i=a(136),u=a(9388),m=a(2791),d=a(1694),f=a.n(d),p=function(e){(0,i.Z)(a,e);var n=(0,u.Z)(a);function a(e){var t;(0,s.Z)(this,a),(t=n.call(this,e)).handleChange=function(e){var n=t.props,a=n.disabled,r=n.onChange;a||("checked"in t.props||t.setState({checked:e.target.checked}),r&&r({target:(0,c.Z)((0,c.Z)({},t.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},t.saveInput=function(e){t.input=e};var r="checked"in e?e.checked:e.defaultChecked;return t.state={checked:r},t}return(0,l.Z)(a,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,a=n.prefixCls,c=n.className,s=n.style,l=n.name,i=n.id,u=n.type,d=n.disabled,p=n.readOnly,v=n.tabIndex,x=n.onClick,h=n.onFocus,Z=n.onBlur,b=n.onKeyDown,C=n.onKeyPress,g=n.onKeyUp,y=n.autoFocus,j=n.value,k=n.required,E=(0,o.Z)(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),O=Object.keys(E).reduce((function(e,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(e[n]=E[n]),e}),{}),I=this.state.checked,P=f()(a,c,(e={},(0,r.Z)(e,"".concat(a,"-checked"),I),(0,r.Z)(e,"".concat(a,"-disabled"),d),e));return m.createElement("span",{className:P,style:s},m.createElement("input",(0,t.Z)({name:l,id:i,type:u,required:k,readOnly:p,disabled:d,tabIndex:v,className:"".concat(a,"-input"),checked:!!I,onClick:x,onFocus:h,onBlur:Z,onKeyUp:g,onKeyDown:b,onKeyPress:C,onChange:this.handleChange,autoFocus:y,ref:this.saveInput,value:j},O)),m.createElement("span",{className:"".concat(a,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return"checked"in e?(0,c.Z)((0,c.Z)({},n),{},{checked:e.checked}):null}}]),a}(m.Component);p.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},n.Z=p}}]);
//# sourceMappingURL=177.30b75032.chunk.js.map
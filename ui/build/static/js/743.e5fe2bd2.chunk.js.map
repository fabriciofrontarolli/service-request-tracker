{"version":3,"file":"static/js/743.e5fe2bd2.chunk.js","mappings":"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","sources":["components/shared-components/Flex/index.js","services/FornecedorService.js","services/utils.js","views/app-views/dashboards/fornecedores/index.js"],"sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Flex = props => {\r\n\tconst { children, className, alignItems, justifyContent, mobileFlex, flexDirection, style } = props\r\n\tconst getFlexResponsive = () => mobileFlex ? 'd-flex' : 'd-md-flex'\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={\r\n\t\t\t\t`${getFlexResponsive()}\r\n\t\t\t\t${className}\r\n\t\t\t\t${flexDirection?('flex-' + flexDirection): ''}\r\n\t\t\t\t${alignItems?('align-items-' + alignItems):''}\r\n\t\t\t\t${justifyContent?('justify-content-' + justifyContent):''}`\r\n\t\t\t\t}\r\n\t\t\tstyle={style || {}}\r\n\t\t\t>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nFlex.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\talignItems: PropTypes.string,\r\n\tflexDirection: PropTypes.string,\r\n\tjustifyContent: PropTypes.string,\r\n\tmobileFlex: PropTypes.bool\r\n}\r\n\r\nFlex.defaultProps = {\r\n\tmobileFlex: true,\r\n\tflexDirection: 'row',\r\n\tclassName: ''\r\n};\r\n\r\n\r\nexport default Flex\r\n","import fetch from 'auth/FetchInterceptor'\nimport { normalizePayload } from './utils';\n\nconst FornecedorService = {}\n\nFornecedorService.fetch = function (page, limit, filtro) {\n\tlet apiQuery = `?page=${page}&limit=${limit}`;\n\n\tif (filtro) {\n\t\tconst updatedApiQuery = Object.entries(filtro)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.reduce((query, [key,value]) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst normalizedValue = encodeURIComponent(value.replace(/ /g, \"%20\"));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn `${query}&${key}=${normalizedValue}`;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, apiQuery);\n\t\tapiQuery = updatedApiQuery;\n\t}\n\n\treturn fetch.get(`/fornecedores${apiQuery}`);\n}\n\nFornecedorService.get = function (id) {\n\tif (!id) { return undefined; }\n\treturn fetch.get(`/fornecedores/${id}`);\n}\n\nFornecedorService.criar = function (data) {\n\tnormalizePayload(data);\n\treturn fetch({\n\t\turl: '/fornecedores',\n\t\tmethod: 'post',\n\t\tdata: data\n\t});\n}\n\nFornecedorService.salvar = function (id, data) {\n\tnormalizePayload(data);\n\treturn fetch({\n\t\turl: `/fornecedores/${id}`,\n\t\tmethod: 'put',\n\t\tdata: data\n\t})\n}\n\nexport default FornecedorService;\n","export const normalizePayload = (formData) => {\n  // remove null values from payload\n  Object.keys(formData).forEach(function(key) {\n    if (formData[key] === null || formData[key] === undefined || formData[key] === '') {\n        delete formData[key];\n    }\n  });\n};\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Card, Input, notification, Pagination, Table } from 'antd';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport FornecedorService from \"services/FornecedorService\";\r\nimport Flex from \"components/shared-components/Flex\";\r\n\r\nconst tableColumns = [\r\n\t{\r\n\t\ttitle: 'ID',\r\n\t\tdataIndex: 'codigo',\r\n\t},\r\n  {\r\n\t\ttitle: 'Nome',\r\n\t\tdataIndex: 'nome_fantasia'\r\n\t},\r\n\t{\r\n\t\ttitle: 'CPF/CNPJ',\r\n\t\tdataIndex: 'cpf_cnpj'\r\n\t},\r\n  {\r\n\t\ttitle: 'Telefone',\r\n\t\tdataIndex: 'telefone'\r\n\t}\r\n];\r\n\r\nexport const FornecedoresList = () => {\r\n\tconst [fornecedores, setFornecedores] = useState([]);\r\n\tconst [pagination, setPagination] = useState({\r\n\t\tpage: 1,\r\n\t\tlimit: 10,\r\n\t\ttotalPages: 1\r\n\t});\r\n\tconst [filtro, setFiltro] = useState({\r\n\t\tcpf_cnpj: '',\r\n\t\trazao_social: '',\r\n\t\tnome_fantasia: ''\r\n\t});\r\n\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst handleBuscarFornecedores = async function(page=pagination.page, limit=pagination.limit) {\r\n\t\ttry {\r\n\t\t\tconst noNullFilters = Object.fromEntries(\r\n\t\t\t\tObject.entries(filtro).filter(([key, value]) => !!value)\r\n\t\t\t);\r\n\t\t\tconst resultado = await FornecedorService.fetch(page, limit, noNullFilters);\r\n\r\n\t\t\tsetFornecedores(resultado.data);\r\n\t\t\tsetPagination(resultado.pagination);\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tnotification.error({ message: 'Erro ao buscar lista de fornecedores' })\r\n\t\t}\r\n\t}\r\n\r\n\tconst handeFiltrarFornecedores = () => handleBuscarFornecedores();\r\n\r\n\tuseEffect(() => {\r\n\t\thandleBuscarFornecedores();\r\n\t}, []);\r\n\r\n\tconst onPageChange = (page, pageSize) => {\r\n\t\thandleBuscarFornecedores(page, pageSize)\r\n\t}\r\n\r\n\tconst handleChangeFilterField = (field, event) => {\r\n\t\tconst updatedFilter = {\r\n\t\t\t...filtro,\r\n\t\t\t[field]: event.target.value\r\n\t\t};\r\n\t\tsetFiltro(updatedFilter);\r\n\t}\r\n\r\n  return (\r\n    <>\r\n      <Card title=\"Fornecedores\">\r\n\t\t\t\t<Card >\r\n\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column' }}>\r\n\t\t\t\t\t\t<Flex\r\n\t\t\t\t\t\t\tflexDirection=\"row\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexWrap: 'wrap',\r\n\t\t\t\t\t\t\t\tmarginBottom: '1rem',\r\n\t\t\t\t\t\t\t\tjustifyContent: \"space-between\"\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ /* CPF/CNPJ */ }\r\n\t\t\t\t\t\t\t<Flex flexDirection=\"column\" style={{ marginBottom: '0.2rem' }}>\r\n\t\t\t\t\t\t\t\t<label>CPF/CNPJ</label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tvalue={filtro.cpf_cnpj}\r\n\t\t\t\t\t\t\t\t\tonChange={(ev) => handleChangeFilterField('cpf_cnpj', ev)}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '18rem', marginTop: '0.5rem', marginRight: '1rem' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Flex>\r\n\r\n\t\t\t\t\t\t\t{ /* Razao Social */ }\r\n\t\t\t\t\t\t\t<Flex flexDirection=\"column\" style={{ marginBottom: '0.2rem' }}>\r\n\t\t\t\t\t\t\t\t<label>Razao Social</label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tvalue={filtro.razao_social}\r\n\t\t\t\t\t\t\t\t\tonChange={(ev) => handleChangeFilterField('razao_social', ev)}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '18rem', marginTop: '0.5rem', marginRight: '1rem' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{ /* Nome Fantasia */ }\r\n\t\t\t\t\t\t\t<Flex flexDirection=\"column\" style={{ marginBottom: '0.2rem' }}>\r\n\t\t\t\t\t\t\t\t<label>Nome Fantasia</label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tvalue={filtro.nome_fantasia}\r\n\t\t\t\t\t\t\t\t\tonChange={(ev) => handleChangeFilterField('nome_fantasia', ev)}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '18rem', marginTop: '0.5rem', marginRight: '1rem' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Flex>\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tstyle={{ minWidth: '10rem', alignSelf: 'flex-end' }}\r\n\t\t\t\t\t\t\t\tonClick={handeFiltrarFornecedores}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tBuscar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n        <Link to={`/app/administrativo/novo-fornecedor`}>\r\n          <Button type=\"primary\">Novo Fornecedor</Button>\r\n        </Link>\r\n        <Table\r\n\t\t\t\t\tpagination={false}\r\n          columns={tableColumns} \r\n          dataSource={fornecedores} \r\n          rowKey='ID'\r\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\tonRow={(record, rowIndex) => ({\r\n\t\t\t\t\t\tonClick: (event) => {\r\n\t\t\t\t\t\t\tnavigate(`/app/administrativo/editar-fornecedor/${record.id}`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n        />\r\n\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tdefaultCurrent={parseInt(pagination.page)}\r\n\t\t\t\t\tcurrent={parseInt(pagination.page)}\r\n\t\t\t\t\tpageSize={pagination.limit}\r\n\t\t\t\t\ttotal={pagination.total}\r\n\t\t\t\t\tstyle={{ marginTop: '2.5rem', marginBottom: '2.5rem' }}\r\n\t\t\t\t\tonChange={onPageChange}\r\n\t\t\t\t\tsize=\"default\" showSizeChanger showQuickJumper\r\n\t\t\t\t/>\r\n      </Card>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default FornecedoresList;\r\n"],"names":["Flex","props","children","className","alignItems","justifyContent","mobileFlex","flexDirection","style","defaultProps","FornecedorService","page","limit","filtro","apiQuery","Object","entries","reduce","query","key","value","normalizedValue","encodeURIComponent","replace","fetch","id","data","normalizePayload","url","method","formData","keys","forEach","undefined","tableColumns","title","dataIndex","FornecedoresList","useState","fornecedores","setFornecedores","totalPages","pagination","setPagination","cpf_cnpj","razao_social","nome_fantasia","setFiltro","navigate","useNavigate","handleBuscarFornecedores","noNullFilters","fromEntries","filter","resultado","notification","message","useEffect","handleChangeFilterField","field","event","updatedFilter","target","display","flexWrap","marginBottom","onChange","ev","width","marginTop","marginRight","type","minWidth","alignSelf","onClick","to","columns","dataSource","rowKey","cursor","onRow","record","rowIndex","defaultCurrent","parseInt","current","pageSize","total","size","showSizeChanger","showQuickJumper"],"sourceRoot":""}
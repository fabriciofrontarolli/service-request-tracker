"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[450],{8470:function(e,t,n){n(2791);var r=n(184),a=function(e){var t=e.children,n=e.className,a=e.alignItems,i=e.justifyContent,c=e.mobileFlex,o=e.flexDirection,s=e.style;return(0,r.jsx)("div",{className:"".concat(c?"d-flex":"d-md-flex","\n\t\t\t\t").concat(n,"\n\t\t\t\t").concat(o?"flex-"+o:"","\n\t\t\t\t").concat(a?"align-items-"+a:"","\n\t\t\t\t").concat(i?"justify-content-"+i:""),style:s||{},children:t})};a.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},t.Z=a},4206:function(e,t,n){var r=n(9439),a=n(613),i=n(1070),c={fetch:function(e,t,n){var i="?page=".concat(e,"&limit=").concat(t);n&&(i=Object.entries(n).reduce((function(e,t){var n=(0,r.Z)(t,2),a=n[0],i=n[1],c=encodeURIComponent(i.replace(/ /g,"%20"));return"".concat(e,"&").concat(a,"=").concat(c)}),i));return a.Z.get("/usuarios".concat(i))},get:function(e){if(e)return a.Z.get("/usuarios/".concat(e))},buscarTecnicos:function(){return a.Z.get("/usuarios/tecnicos")},criar:function(e){return(0,i.Z)(e),(0,a.Z)({url:"/usuarios",method:"post",data:e})},salvar:function(e,t){return(0,i.Z)(t),(0,a.Z)({url:"/usuarios/".concat(e),method:"put",data:t})},ativar:function(e){return(0,a.Z)({url:"/usuarios/".concat(e,"/ativar"),method:"put"})},desativar:function(e){return(0,a.Z)({url:"/usuarios/".concat(e,"/desativar"),method:"put"})}};t.Z=c},1070:function(e,t,n){n.d(t,{Z:function(){return r}});var r=function(e){Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t]}))}},2450:function(e,t,n){n.r(t),n.d(t,{UserList:function(){return ee},default:function(){return te}});var r=n(4942),a=n(1413),i=n(4165),c=n(5861),o=n(9439),s=n(2791),l=n(3085),u=n(5945),f=n(3707),m=n(6673),d=n(940),v=n(4415),p=n(9221),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M705.6 124.9a8 8 0 00-11.6 7.2v64.2c0 5.5 2.9 10.6 7.5 13.6a352.2 352.2 0 0162.2 49.8c32.7 32.8 58.4 70.9 76.3 113.3a355 355 0 0127.9 138.7c0 48.1-9.4 94.8-27.9 138.7a355.92 355.92 0 01-76.3 113.3 353.06 353.06 0 01-113.2 76.4c-43.8 18.6-90.5 28-138.5 28s-94.7-9.4-138.5-28a353.06 353.06 0 01-113.2-76.4A355.92 355.92 0 01184 650.4a355 355 0 01-27.9-138.7c0-48.1 9.4-94.8 27.9-138.7 17.9-42.4 43.6-80.5 76.3-113.3 19-19 39.8-35.6 62.2-49.8 4.7-2.9 7.5-8.1 7.5-13.6V132c0-6-6.3-9.8-11.6-7.2C178.5 195.2 82 339.3 80 506.3 77.2 745.1 272.5 943.5 511.2 944c239 .5 432.8-193.3 432.8-432.4 0-169.2-97-315.7-238.4-386.7zM480 560h64c4.4 0 8-3.6 8-8V88c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"}}]},name:"poweroff",theme:"outlined"},g=n(4291),h=function(e,t){return s.createElement(g.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:x}))};h.displayName="PoweroffOutlined";var y=s.forwardRef(h),Z=n(2426),b=n.n(Z),j=n(7462),E=n(1002),C=n(1694),w=n.n(C),N=n(8829),O=n(8834),S=n(1929),k=n(6226),z=n(8295),P=s.createContext("default"),D=function(e){var t=e.children,n=e.size;return s.createElement(P.Consumer,null,(function(e){return s.createElement(P.Provider,{value:n||e},t)}))},_=P,I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},T=function(e,t){var n,a,i=s.useContext(_),c=s.useState(1),l=(0,o.Z)(c,2),u=l[0],f=l[1],m=s.useState(!1),d=(0,o.Z)(m,2),v=d[0],p=d[1],x=s.useState(!0),g=(0,o.Z)(x,2),h=g[0],y=g[1],Z=s.useRef(null),b=s.useRef(null),C=(0,O.sQ)(t,Z),P=s.useContext(S.E_).getPrefixCls,D=function(){if(b.current&&Z.current){var t=b.current.offsetWidth,n=Z.current.offsetWidth;if(0!==t&&0!==n){var r=e.gap,a=void 0===r?4:r;2*a<n&&f(n-2*a<t?(n-2*a)/t:1)}}};s.useEffect((function(){p(!0)}),[]),s.useEffect((function(){y(!0),f(1)}),[e.src]),s.useEffect((function(){D()}),[e.gap]);var T,R=e.prefixCls,L=e.shape,B=void 0===L?"circle":L,U=e.size,W=void 0===U?"default":U,A=e.src,F=e.srcSet,H=e.icon,M=e.className,V=e.alt,Q=e.draggable,G=e.children,J=e.crossOrigin,K=I(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),X="default"===W?i:W,q=Object.keys("object"===(0,E.Z)(X)&&X||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),Y=(0,k.Z)(q),$=s.useMemo((function(){if("object"!==(0,E.Z)(X))return{};var e=z.c4.find((function(e){return Y[e]})),t=X[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:H?t/2:18}:{}}),[Y,X]),ee=P("avatar",R),te=w()((n={},(0,r.Z)(n,"".concat(ee,"-lg"),"large"===X),(0,r.Z)(n,"".concat(ee,"-sm"),"small"===X),n)),ne=s.isValidElement(A),re=w()(ee,te,(a={},(0,r.Z)(a,"".concat(ee,"-").concat(B),!!B),(0,r.Z)(a,"".concat(ee,"-image"),ne||A&&h),(0,r.Z)(a,"".concat(ee,"-icon"),!!H),a),M),ae="number"===typeof X?{width:X,height:X,lineHeight:"".concat(X,"px"),fontSize:H?X/2:18}:{};if("string"===typeof A&&h)T=s.createElement("img",{src:A,draggable:Q,srcSet:F,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&y(!1)},alt:V,crossOrigin:J});else if(ne)T=A;else if(H)T=H;else if(v||1!==u){var ie="scale(".concat(u,") translateX(-50%)"),ce={msTransform:ie,WebkitTransform:ie,transform:ie},oe="number"===typeof X?{lineHeight:"".concat(X,"px")}:{};T=s.createElement(N.Z,{onResize:D},s.createElement("span",{className:"".concat(ee,"-string"),ref:b,style:(0,j.Z)((0,j.Z)({},oe),ce)},G))}else T=s.createElement("span",{className:"".concat(ee,"-string"),style:{opacity:0},ref:b},G);return delete K.onError,delete K.gap,s.createElement("span",(0,j.Z)({},K,{style:(0,j.Z)((0,j.Z)((0,j.Z)({},ae),$),K.style),className:re,ref:C}),T)};var R=s.forwardRef(T),L=n(5501),B=function(e){return e?"function"===typeof e?e():e:null},U=n(9464),W=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},A=function(e){var t=e.title,n=e.content,r=e.prefixCls;return t||n?s.createElement(s.Fragment,null,t&&s.createElement("div",{className:"".concat(r,"-title")},B(t)),s.createElement("div",{className:"".concat(r,"-inner-content")},B(n))):null};var F=s.forwardRef((function(e,t){var n=e.prefixCls,r=e.title,a=e.content,i=e._overlay,c=e.placement,o=void 0===c?"top":c,l=e.trigger,f=void 0===l?"hover":l,m=e.mouseEnterDelay,d=void 0===m?.1:m,v=e.mouseLeaveDelay,p=void 0===v?.1:v,x=e.overlayStyle,g=void 0===x?{}:x,h=W(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),y=s.useContext(S.E_).getPrefixCls,Z=y("popover",n),b=y();return s.createElement(u.Z,(0,j.Z)({placement:o,trigger:f,mouseEnterDelay:d,mouseLeaveDelay:p,overlayStyle:g},h,{prefixCls:Z,ref:t,overlay:i||s.createElement(A,{prefixCls:Z,title:r,content:a}),transitionName:(0,U.mL)(b,"zoom-big",h.transitionName)}))})),H=n(1113),M=function(e){var t=s.useContext(S.E_),n=t.getPrefixCls,a=t.direction,i=e.prefixCls,c=e.className,o=void 0===c?"":c,l=e.maxCount,u=e.maxStyle,f=e.size,m=n("avatar-group",i),d=w()(m,(0,r.Z)({},"".concat(m,"-rtl"),"rtl"===a),o),v=e.children,p=e.maxPopoverPlacement,x=void 0===p?"top":p,g=e.maxPopoverTrigger,h=void 0===g?"hover":g,y=(0,L.Z)(v).map((function(e,t){return(0,H.Tm)(e,{key:"avatar-key-".concat(t)})})),Z=y.length;if(l&&l<Z){var b=y.slice(0,l),j=y.slice(l,Z);return b.push(s.createElement(F,{key:"avatar-popover-key",content:j,trigger:h,placement:x,overlayClassName:"".concat(m,"-popover")},s.createElement(R,{style:u},"+".concat(Z-l)))),s.createElement(D,{size:f},s.createElement("div",{className:d,style:e.style},b))}return s.createElement(D,{size:f},s.createElement("div",{className:d,style:e.style},y))},V=R;V.Group=M;var Q=V,G=n(184),J=function(e){return(0,G.jsx)(Q,(0,a.Z)((0,a.Z)({},e),{},{className:"ant-avatar-".concat(e.type),children:e.text}))},K=function(e){var t=e.name,n=e.suffix,r=e.subTitle,a=e.id,i=e.type,c=e.src,o=e.icon,s=e.size,l=e.shape,u=e.gap,f=e.text,m=e.onNameClick;return(0,G.jsxs)("div",{className:"avatar-status d-flex align-items-center",children:[c&&o&&J({icon:o,src:c,type:i,size:s,shape:l,gap:u,text:f}),(0,G.jsxs)("div",{className:"ml-2",children:[(0,G.jsxs)("div",{children:[m?(0,G.jsx)("div",{onClick:function(){return m({name:t,subTitle:r,src:c,id:a})},className:"avatar-status-name clickable",children:t}):(0,G.jsx)("div",{className:"avatar-status-name",children:t}),(0,G.jsx)("span",{children:n})]}),(0,G.jsx)("div",{className:"text-muted avatar-status-subtitle",children:r})]})]})},X=n(4206),q=n(7689),Y=n(1087),$=n(8470),ee=function(){var e=(0,s.useState)([]),t=(0,o.Z)(e,2),n=t[0],x=t[1],g=(0,s.useState)({page:1,limit:10,totalPages:1}),h=(0,o.Z)(g,2),Z=h[0],j=h[1],E=(0,s.useState)({nome:""}),C=(0,o.Z)(E,2),w=C[0],N=C[1],O=(0,q.s0)(),S=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,a,c=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:Z.page,n=c.length>1&&void 0!==c[1]?c[1]:Z.limit,e.prev=2,r=Object.fromEntries(Object.entries(w).filter((function(e){var t=(0,o.Z)(e,2);t[0];return!!t[1]}))),e.next=6,X.Z.fetch(t,n,r);case 6:a=e.sent,x(a.data),j(a.pagination),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),l.Z.error({message:"Erro ao buscar lista de usuarios"});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){S()}),[]);var k=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.is_ativo){e.next=5;break}return e.next=3,X.Z.desativar(t.id);case 3:e.next=7;break;case 5:return e.next=7,X.Z.ativar(t.id);case 7:S();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=[{title:"Nome",dataIndex:"nome",render:function(e,t){return(0,G.jsx)("div",{className:"d-flex",children:(0,G.jsx)(K,{name:t.nome,subTitle:t.email})})},sorter:{compare:function(e,t){return(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?-1:t>e?1:0}}},{title:"Perfil",dataIndex:"perfil"},{title:"Data Criacao",dataIndex:"created_at",render:function(e,t){return(0,G.jsx)("span",{children:new Intl.DateTimeFormat("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"}).format(new Date(t.created_at))})},sorter:function(e,t){return b()(e.created_at).unix()-b()(t.created_at).unix()}},{title:"Status",dataIndex:"is_ativo",render:function(e,t){return(0,G.jsx)("span",{children:t.is_ativo?"Ativado":"Desativado"})},sorter:function(e,t){return b()(e.created_at).unix()-b()(t.created_at).unix()}},{title:"Ativar/Desativar",dataIndex:"actions",render:function(e,t){return(0,G.jsx)("div",{style:{visibility:(n=t,"administrador@sathi.com.br"!=n.email?"visible":"hidden")},className:"text-right d-flex justify-content",children:(0,G.jsx)(u.Z,{title:t.is_ativo?"Desativar":"Ativar",children:(0,G.jsx)(f.Z,{icon:(0,G.jsx)(y,{style:{color:t.is_ativo?"green":"red"}}),onClick:function(e){e.stopPropagation(),k(t)},size:"large"})})});var n}}];return(0,G.jsxs)(m.Z,{title:"Usuarios",children:[(0,G.jsx)(m.Z,{children:(0,G.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,G.jsxs)($.Z,{flexDirection:"row",style:{display:"flex",flexWrap:"wrap",marginBottom:"1rem",justifyContent:"space-between"},children:[(0,G.jsxs)($.Z,{flexDirection:"column",style:{marginBottom:"0.2rem"},children:[(0,G.jsx)("label",{children:"Nome"}),(0,G.jsx)(d.Z,{value:w.nome,onChange:function(e){return function(e,t){var n=(0,a.Z)((0,a.Z)({},w),{},(0,r.Z)({},e,t.target.value));N(n)}("nome",e)},style:{width:"18rem",marginTop:"0.5rem",marginRight:"1rem"}})]}),(0,G.jsx)(f.Z,{type:"primary",style:{minWidth:"10rem",alignSelf:"flex-end"},onClick:function(){return S()},children:"Buscar"})]})})}),(0,G.jsx)(Y.rU,{to:"/app/administrativo/novo-usuario",children:(0,G.jsx)(f.Z,{type:"primary",children:"Novo Usuario"})}),(0,G.jsxs)("div",{className:"table-responsive",children:[(0,G.jsx)(v.Z,{columns:z,dataSource:n,rowKey:"id",pagination:!1,style:{cursor:"pointer"},onRow:function(e,t){return{onClick:function(t){O("/app/administrativo/editar-usuario/".concat(e.id))}}}}),(0,G.jsx)(p.Z,{defaultCurrent:parseInt(Z.page),current:parseInt(Z.page),pageSize:Z.limit,total:Z.total,style:{marginTop:"2.5rem",marginBottom:"2.5rem"},onChange:function(e,t){S(e,t)},size:"default",showSizeChanger:!0,showQuickJumper:!0})]})]})},te=ee}}]);
//# sourceMappingURL=450.2b12eb37.chunk.js.map
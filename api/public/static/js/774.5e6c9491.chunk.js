"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[774],{4206:function(e,r,a){var n=a(613),t=a(1070),s={fetch:function(e,r){return n.Z.get("/usuarios?page=".concat(e,"&limit=").concat(r))},get:function(e){if(e)return n.Z.get("/usuarios/".concat(e))},buscarTecnicos:function(){return n.Z.get("/usuarios/tecnicos")},criar:function(e){return(0,t.Z)(e),(0,n.Z)({url:"/usuarios",method:"post",data:e})},salvar:function(e,r){return(0,t.Z)(r),(0,n.Z)({url:"/usuarios/".concat(e),method:"put",data:r})},ativar:function(e){return(0,n.Z)({url:"/usuarios/".concat(e,"/ativar"),method:"put"})},desativar:function(e){return(0,n.Z)({url:"/usuarios/".concat(e,"/desativar"),method:"put"})}};r.Z=s},1070:function(e,r,a){a.d(r,{Z:function(){return n}});var n=function(e){Object.keys(e).forEach((function(r){null!==e[r]&&void 0!==e[r]&&""!==e[r]||delete e[r]}))}},4774:function(e,r,a){a.r(r),a.d(r,{EditProfile:function(){return x}});var n=a(4165),t=a(5861),s=a(9439),i=a(2791),u=a(1095),o=a(3085),c=a(6106),l=a(914),d=a(940),m=a(3707),f=a(4206),Z=a(6443),p=a(7689),v=a(7019),h=a(184),x=function(){var e=(0,i.useState)(void 0),r=(0,s.Z)(e,2),a=r[0],x=r[1],g=u.Z.useForm(),j=(0,s.Z)(g,1)[0],w=(0,p.s0)(),b=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(r){var t,s,i,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.getFieldValue("nome"),s=j.getFieldValue("email"),i=j.getFieldValue("password"),u={nome:t,email:s},i&&(u.password=i),e.prev=5,e.next=8,f.Z.salvar(a.id,u);case 8:"Usuario atualizado",o.Z.success({message:"Usuario atualizado"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),o.Z.error({message:"Erro ao atualizar o perfil"});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(r){return e.apply(this,arguments)}}(),k=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(r){var a,t,s,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=7;break}return e.next=4,f.Z.get(r);case 4:a=e.sent,(t=a.data)&&(s=Object.keys(t).map((function(e){return{name:e,value:t[e]}})),i=s.filter((function(e){return"id"!==e.name.toLowerCase()&&"created_at"!==e.name.toLowerCase()})),j.setFields(i),x(t));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),w("/app/administrativo/usuarios"),o.Z.error("Erro ao buscar o Usuario! ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){!function(){var e=localStorage.getItem(v.Y)||null;if(e){var r=JSON.parse(e);k(r.id)}}()}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"mt-4",children:(0,h.jsx)(u.Z,{form:j,name:"register",layout:"vertical",onFinish:b,onFinishFailed:function(e){console.log("Failed:",e)},children:(0,h.jsx)(c.Z,{children:(0,h.jsxs)(l.Z,{xs:24,sm:24,md:24,lg:16,children:[(0,h.jsx)(c.Z,{gutter:Z.KP,children:(0,h.jsxs)(l.Z,{xs:24,sm:24,md:12,children:[(0,h.jsx)(u.Z.Item,{label:"Name",name:"nome",rules:[{required:!0,message:"Please input your name!"}],children:(0,h.jsx)(d.Z,{})}),(0,h.jsx)(u.Z.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:(0,h.jsx)(d.Z,{})}),(0,h.jsx)(u.Z.Item,{name:"password",label:"Senha",rules:[{required:!0,message:"Por favor insira a senha!"}],hasFeedback:!0,children:(0,h.jsx)(d.Z.Password,{})}),(0,h.jsx)(u.Z.Item,{name:"password-repeat",label:"Confirme a Senha",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Por favor confirme a senha!"},function(e){var r=e.getFieldValue;return{validator:function(e,a){return a&&r("password")!==a?Promise.reject(new Error("As senhas devem ser iguais")):Promise.resolve()}}}],children:(0,h.jsx)(d.Z.Password,{})})]})}),(0,h.jsx)(m.Z,{type:"primary",htmlType:"submit",children:"Salvar"})]})})})})})};r.default=x},914:function(e,r,a){var n=a(9752);r.Z=n.Z},6106:function(e,r,a){var n=a(6412);r.Z=n.Z}}]);
//# sourceMappingURL=774.5e6c9491.chunk.js.map